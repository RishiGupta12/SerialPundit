<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_75) on Mon Jan 23 21:18:02 IST 2017 -->
<title>SerialComLooper</title>
<meta name="date" content="2017-01-23">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SerialComLooper";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SerialComLooper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/serialpundit/serial/internal/SerialComFTDID2XXJNIBridge.html" title="class in com.serialpundit.serial.internal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/serialpundit/serial/internal/SerialComMCHPSIOJNIBridge.html" title="class in com.serialpundit.serial.internal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/serialpundit/serial/internal/SerialComLooper.html" target="_top">Frames</a></li>
<li><a href="SerialComLooper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.serialpundit.serial.internal</div>
<h2 title="Class SerialComLooper" class="title">Class SerialComLooper</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.serialpundit.serial.internal.SerialComLooper</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">SerialComLooper</span>
extends java.lang.Object</pre>
<div class="block"><p>Encapsulates environment for data and event looper implementation. This runs in as a 
 different thread context and keep looping over data/event queue, delivering data/events 
 to the intended registered listener (data/event handler) one by one.</p>
 
 <p>The rate of delivery of data/events are directly proportional to how fast listener finishes
 his job and let us return.</p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Rishi Gupta</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/serialpundit/serial/internal/SerialComLooper.html#SerialComLooper(com.serialpundit.serial.internal.SerialComPortJNIBridge)">SerialComLooper</a></strong>(<a href="../../../../com/serialpundit/serial/internal/SerialComPortJNIBridge.html" title="class in com.serialpundit.serial.internal">SerialComPortJNIBridge</a>&nbsp;mComPortJNIBridge)</code>
<div class="block">Allocates a new SerialComLooper object.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../com/serialpundit/serial/internal/SerialComLooper.html#getEventsMask()">getEventsMask</a></strong>()</code>
<div class="block">Gives the event mask currently active.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/serialpundit/serial/internal/SerialComLooper.html#insertInDataErrorQueue(int)">insertInDataErrorQueue</a></strong>(int&nbsp;errorNum)</code>
<div class="block">This method insert error info in error queue which will be later delivered to application.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/serialpundit/serial/internal/SerialComLooper.html#insertInDataQueue(byte[])">insertInDataQueue</a></strong>(byte[]&nbsp;newData)</code>
<div class="block">This method is called from native code to pass data bytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/serialpundit/serial/internal/SerialComLooper.html#insertInEventQueue(int)">insertInEventQueue</a></strong>(int&nbsp;newEvent)</code>
<div class="block">Native side detects the change in status of lines, get the new line status and call this method.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/serialpundit/serial/internal/SerialComLooper.html#pause()">pause</a></strong>()</code>
<div class="block">Data looper thread refrains from sending new data to the data listener.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/serialpundit/serial/internal/SerialComLooper.html#resume()">resume</a></strong>()</code>
<div class="block">Looper starts sending new data again to the data listener.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/serialpundit/serial/internal/SerialComLooper.html#setEventsMask(int)">setEventsMask</a></strong>(int&nbsp;newMask)</code>
<div class="block">In future we may shift modifying mask in the native code itself, so as to prevent JNI transitions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/serialpundit/serial/internal/SerialComLooper.html#startDataLooper(long,%20com.serialpundit.serial.ISerialComDataListener,%20java.lang.String)">startDataLooper</a></strong>(long&nbsp;handle,
               <a href="../../../../com/serialpundit/serial/ISerialComDataListener.html" title="interface in com.serialpundit.serial">ISerialComDataListener</a>&nbsp;dataListener,
               java.lang.String&nbsp;portName)</code>
<div class="block">Start the thread to loop over data queue.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/serialpundit/serial/internal/SerialComLooper.html#startEventLooper(long,%20com.serialpundit.serial.ISerialComEventListener,%20java.lang.String)">startEventLooper</a></strong>(long&nbsp;handle,
                <a href="../../../../com/serialpundit/serial/ISerialComEventListener.html" title="interface in com.serialpundit.serial">ISerialComEventListener</a>&nbsp;eventListener,
                java.lang.String&nbsp;portName)</code>
<div class="block">Get initial status of control lines and start Java worker thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/serialpundit/serial/internal/SerialComLooper.html#stopDataLooper()">stopDataLooper</a></strong>()</code>
<div class="block">Set the flag to indicate that the thread is supposed to run to completion and exit.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/serialpundit/serial/internal/SerialComLooper.html#stopEventLooper()">stopEventLooper</a></strong>()</code>
<div class="block">Set the flag to indicate that the thread is supposed to run to completion and exit.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SerialComLooper(com.serialpundit.serial.internal.SerialComPortJNIBridge)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SerialComLooper</h4>
<pre>public&nbsp;SerialComLooper(<a href="../../../../com/serialpundit/serial/internal/SerialComPortJNIBridge.html" title="class in com.serialpundit.serial.internal">SerialComPortJNIBridge</a>&nbsp;mComPortJNIBridge)</pre>
<div class="block"><p>Allocates a new SerialComLooper object.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>mComPortJNIBridge</code> - interface used to invoke appropriate native function.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="insertInDataQueue(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertInDataQueue</h4>
<pre>public&nbsp;void&nbsp;insertInDataQueue(byte[]&nbsp;newData)</pre>
<div class="block"><p>This method is called from native code to pass data bytes.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newData</code> - byte array containing data read from serial port</dd></dl>
</li>
</ul>
<a name="insertInDataErrorQueue(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertInDataErrorQueue</h4>
<pre>public&nbsp;void&nbsp;insertInDataErrorQueue(int&nbsp;errorNum)</pre>
<div class="block"><p>This method insert error info in error queue which will be later delivered to application.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>errorNum</code> - operating system specific error number to be sent to application.</dd></dl>
</li>
</ul>
<a name="insertInEventQueue(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertInEventQueue</h4>
<pre>public&nbsp;void&nbsp;insertInEventQueue(int&nbsp;newEvent)</pre>
<div class="block"><p>Native side detects the change in status of lines, get the new line status and call this method. 
 Based on the mask this method determines whether this event should be sent to application or not.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newEvent</code> - bit mask representing event on serial port control lines.</dd></dl>
</li>
</ul>
<a name="startDataLooper(long, com.serialpundit.serial.ISerialComDataListener, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startDataLooper</h4>
<pre>public&nbsp;void&nbsp;startDataLooper(long&nbsp;handle,
                   <a href="../../../../com/serialpundit/serial/ISerialComDataListener.html" title="interface in com.serialpundit.serial">ISerialComDataListener</a>&nbsp;dataListener,
                   java.lang.String&nbsp;portName)</pre>
<div class="block"><p>Start the thread to loop over data queue. </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>handle</code> - handle of the opened port for which data looper need to be started.</dd><dd><code>dataListener</code> - listener to which data will be delivered.</dd><dd><code>portName</code> - name of port represented by this handle.</dd></dl>
</li>
</ul>
<a name="stopDataLooper()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopDataLooper</h4>
<pre>public&nbsp;void&nbsp;stopDataLooper()</pre>
<div class="block"><p>Set the flag to indicate that the thread is supposed to run to completion and exit.
 Interrupt the thread so that take() method can come out of blocked sleep state.</p></div>
</li>
</ul>
<a name="startEventLooper(long, com.serialpundit.serial.ISerialComEventListener, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startEventLooper</h4>
<pre>public&nbsp;void&nbsp;startEventLooper(long&nbsp;handle,
                    <a href="../../../../com/serialpundit/serial/ISerialComEventListener.html" title="interface in com.serialpundit.serial">ISerialComEventListener</a>&nbsp;eventListener,
                    java.lang.String&nbsp;portName)
                      throws com.serialpundit.core.SerialComException</pre>
<div class="block"><p>Get initial status of control lines and start Java worker thread.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>handle</code> - handle of the opened port for which event looper need to be started.</dd><dd><code>eventListener</code> - listener to which event will be delivered.</dd><dd><code>portName</code> - name of port represented by this handle.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>com.serialpundit.core.SerialComException</code> - if an error occurs.</dd></dl>
</li>
</ul>
<a name="stopEventLooper()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stopEventLooper</h4>
<pre>public&nbsp;void&nbsp;stopEventLooper()
                     throws com.serialpundit.core.SerialComException</pre>
<div class="block"><p>Set the flag to indicate that the thread is supposed to run to completion and exit.
 Interrupt the thread so that take() method can come out of blocked sleep state.</p></div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>com.serialpundit.core.SerialComException</code> - if an error occurs.</dd></dl>
</li>
</ul>
<a name="pause()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pause</h4>
<pre>public&nbsp;void&nbsp;pause()</pre>
<div class="block"><p>Data looper thread refrains from sending new data to the data listener.</p></div>
</li>
</ul>
<a name="resume()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resume</h4>
<pre>public&nbsp;void&nbsp;resume()</pre>
<div class="block"><p>Looper starts sending new data again to the data listener.</p></div>
</li>
</ul>
<a name="setEventsMask(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEventsMask</h4>
<pre>public&nbsp;void&nbsp;setEventsMask(int&nbsp;newMask)</pre>
<div class="block"><p>In future we may shift modifying mask in the native code itself, so as to prevent JNI transitions.
 This filters what events should be sent to application. Note that, although we sent only those event
 for which user has set mask, however native code send all the events to java layer as of now.</p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newMask</code> - new bit mask for events that will be delivered to application.</dd></dl>
</li>
</ul>
<a name="getEventsMask()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getEventsMask</h4>
<pre>public&nbsp;int&nbsp;getEventsMask()</pre>
<div class="block"><p>Gives the event mask currently active.</p></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>bit mask of events currently active.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SerialComLooper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/serialpundit/serial/internal/SerialComFTDID2XXJNIBridge.html" title="class in com.serialpundit.serial.internal"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/serialpundit/serial/internal/SerialComMCHPSIOJNIBridge.html" title="class in com.serialpundit.serial.internal"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/serialpundit/serial/internal/SerialComLooper.html" target="_top">Frames</a></li>
<li><a href="SerialComLooper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
